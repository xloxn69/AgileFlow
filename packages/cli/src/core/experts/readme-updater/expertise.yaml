# README Updater Expert - Domain Knowledge
# This file is the agent's "mental model" of the README updating domain
# AUTO-UPDATED by self-improve.md after completing work

domain: readme-updater
last_updated: 2025-12-21
version: 1.1

# AgileFlow-specific README patterns (learned from actual codebase)
files:
  documentation:
    - path: README.md
      purpose: "Root project README (537+ lines)"
      features:
        - "Collapsible <details> sections"
        - "npm version badge"
        - "Command/agent count badges"
    - path: packages/cli/README.md
      purpose: "npm package README (synced with root)"
    - path: docs/
      purpose: "Documentation folder with per-folder READMEs"
      structure: "00-meta through 10-research (11 numbered directories)"

  commands:
    - path: packages/cli/src/core/commands/readme-sync.md
      purpose: "/agileflow:readme-sync command for syncing READMEs"
      usage: "FOLDER=<path> or FOLDER=all"

relationships:
  - parent: root_readme
    child: folder_readmes
    type: links_to
    notes: "Root README links to folder READMEs"
  - parent: folder_readmes
    child: folder_contents
    type: documents
    notes: "README documents folder contents"
  - parent: readme_sync_command
    child: readme_updater_agent
    type: spawns
    notes: "/agileflow:readme-sync spawns readme-updater agent"

patterns:
  - name: Collapsible Sections
    description: "Use <details> tags for long content"
    location: README.md
    example: |
      <details>
      <summary>Click to expand</summary>
      Long content here...
      </details>

  - name: Badge Headers
    description: "npm version and count badges at top"
    location: README.md
    example: "[![npm version](https://badge.fury.io/js/agileflow.svg)]"

  - name: Contents Listing Format
    description: "Bold filename with dash and description"
    location: "*/README.md"
    example: "- **filename.md** – Brief description of what this file is"

  - name: Numbered Directory Structure
    description: "docs/ uses NN-name/ pattern for ordering"
    location: docs/
    directories:
      - "00-meta - Project metadata and conventions"
      - "01-brainstorming - Early ideas and sketches"
      - "02-practices - Development practices"
      - "03-decisions - Architecture Decision Records"
      - "04-architecture - System architecture documentation"
      - "05-epics - Feature epics"
      - "06-stories - User stories"
      - "07-testing - Test documentation"
      - "08-project - Project management"
      - "09-agents - Agent coordination"
      - "10-research - Technical research"

  - name: README Sync Workflow
    description: "/agileflow:readme-sync command updates ## Contents section"
    location: packages/cli/src/core/commands/readme-sync.md
    steps:
      - "List all files in folder"
      - "Extract descriptions from each file"
      - "Build new ## Contents section"
      - "Show diff and ask for confirmation"
      - "Update if approved"

conventions:
  - "Every folder should have a README.md"
  - "README should list all contents with descriptions"
  - "Use - **filename.md** – Description format"
  - "Keep README current with folder contents"
  - "Use /agileflow:readme-sync to automate updates"
  - "Use <details> tags for long collapsible content"
  - "Include badges at top of main README"
  - "Numbered directories (00-10) for docs/ organization"

folder_purposes:
  docs/00-meta: "Project metadata and conventions"
  docs/01-brainstorming: "Early ideas and sketches"
  docs/02-practices: "Development practices (USER's codebase, not AgileFlow)"
  docs/03-decisions: "Architecture Decision Records"
  docs/04-architecture: "System architecture documentation"
  docs/05-epics: "Feature epics"
  docs/06-stories: "User stories"
  docs/07-testing: "Test documentation"
  docs/08-project: "Project management"
  docs/09-agents: "Agent coordination (status.json, bus/)"
  docs/10-research: "Technical research"

audit_checklist:
  - "README exists for folder"
  - "Title matches folder purpose"
  - "Description is clear and helpful"
  - "Contents list is complete"
  - "Navigation links work"
  - "No outdated information"
  - "Consistent with template"

# Learned from AgileFlow codebase exploration
learnings:
  - date: 2025-12-21
    context: "Analyzed root README structure"
    insight: "Main README uses collapsible <details> sections, npm version badge, command/agent count badges; 537+ lines"
    source: "README.md"

  - date: 2025-12-21
    context: "Analyzed readme-sync command"
    insight: "/agileflow:readme-sync FOLDER=<path> spawns readme-updater agent; updates ## Contents section with file descriptions"
    source: "packages/cli/src/core/commands/readme-sync.md"

  - date: 2025-12-21
    context: "Analyzed docs/ structure"
    insight: "11 numbered directories (00-meta through 10-research) with clear purposes; each should have README.md"
    source: "docs/"

  - date: 2025-12-21
    context: "Analyzed README syncing pattern"
    insight: "FOLDER=all syncs all docs/ subfolders; shows diff before applying; only updates ## Contents section"
    source: "packages/cli/src/core/commands/readme-sync.md"
