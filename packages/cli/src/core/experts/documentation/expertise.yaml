domain: documentation
last_updated: 2025-12-24
version: 1.2

# AgileFlow-specific documentation structure (learned from actual codebase)
files:
  root_docs:
    - path: README.md
      purpose: Main project documentation (537 lines)
      sections:
        - "Quick Start (installation, CLI commands)"
        - "Supported IDEs (Claude Code, Cursor, Windsurf)"
        - "Why AgileFlow (methodology)"
        - "Folder Structure (docs/ layout)"
        - "Commands (41 slash commands)"
        - "Subagents (26 specialized agents)"
        - "Skills (23 auto-activating)"
        - "Hooks System (event-driven automation)"
        - "Advanced Topics (workflow, collaboration)"
    - path: packages/cli/README.md
      purpose: npm package README (identical to root)
      note: "Synced with root README"
    - path: SUBAGENTS.md
      purpose: Detailed subagent documentation

  docs_structure:
    - path: docs/00-meta/
      purpose: AgileFlow system metadata (guides, templates, scripts)
    - path: docs/01-brainstorming/
      purpose: Ideas and sketches
    - path: docs/02-practices/
      purpose: Codebase practices (styling, testing, git, CI)
      note: "USER's project practices, not AgileFlow's"
    - path: docs/03-decisions/
      purpose: Architecture Decision Records (ADRs)
      pattern: "adr-NNNN-title.md"
    - path: docs/04-architecture/
      purpose: System architecture documentation
    - path: docs/05-epics/
      purpose: Epic definitions
      pattern: "ep-NNNN-title.md"
    - path: docs/06-stories/
      purpose: User stories (grouped by epic)
      pattern: "US-NNNN.md"
    - path: docs/07-testing/
      purpose: Test cases and acceptance criteria
    - path: docs/08-project/
      purpose: Project management (roadmap, backlog, milestones)
    - path: docs/09-agents/
      purpose: Agent coordination
      key_files:
        - "status.json (story tracking)"
        - "bus/log.jsonl (agent messages)"
    - path: docs/10-research/
      purpose: Research notes and findings
      pattern: "YYYYMMDD-slug.md"

  templates:
    - path: docs/00-meta/templates/
      purpose: Document templates
      templates:
        - "epic-template.md"
        - "story-template.md"
        - "adr-template.md"
        - "agent-profile-template.md"
        - "research-template.md"

relationships:
  - name: readme_sync
    files: ["README.md", "packages/cli/README.md"]
    rule: "Should be identical or synced"

  - name: status_json
    file: "docs/09-agents/status.json"
    purpose: "Single source of truth for story statuses"
    consumers: ["babysit", "board", "status", "verify"]

  - name: agent_bus
    file: "docs/09-agents/bus/log.jsonl"
    purpose: "Agent coordination messages"
    format: "JSON Lines, append-only"

  - name: research_index
    file: "docs/10-research/README.md"
    purpose: "Index of research notes"
    updated_by: "research agent after saving notes"

patterns:
  - name: Docs-as-Code
    description: "Documentation versioned with code in git"

  - name: Numbered Directories
    description: "docs/ uses NN-name/ pattern (00-meta through 10-research)"

  - name: Status Tracking
    description: "status.json tracks all stories with owners, status, dependencies"

  - name: Collapsible Sections
    description: "README uses <details> tags for long sections"

  - name: Badge Headers
    description: "READMEs start with npm version, command count, agent count badges"

conventions:
  - "Use numbered directories in docs/ (00-meta through 10-research)"
  - "Status.json is single source of truth for story tracking"
  - "Research notes follow YYYYMMDD-slug.md pattern"
  - "ADRs follow adr-NNNN-title.md pattern"
  - "Use <details> tags for collapsible README sections"
  - "Include badges (npm version, counts) at top of README"
  - "Each folder should have README.md explaining its purpose"
  - "NO AI attribution in commits or documentation (see CLAUDE.md)"

# Learned from AgileFlow codebase exploration
learnings:
  - date: "2026-01-01"
    auto_generated: true
    context: "Test learning"
    insight: "This is a test"
  - date: 2025-12-21
    context: "Analyzed docs/ directory structure"
    insight: "10 numbered directories (00-meta through 10-research) organize all project documentation"
    source: "docs/"

  - date: 2025-12-21
    context: "Analyzed README structure"
    insight: "Main README is 537 lines with collapsible sections; uses badges for quick stats"
    source: "README.md"

  - date: 2025-12-21
    context: "Analyzed status tracking"
    insight: "status.json in docs/09-agents/ tracks all stories with owner, status, dependencies, test_status"
    source: "docs/09-agents/status.json"

  - date: 2025-12-21
    context: "Analyzed research pattern"
    insight: "Research notes use YYYYMMDD-slug.md pattern in docs/10-research/"
    source: "docs/10-research/"

  - date: 2025-12-24
    context: "Generated command documentation (batch 4 - operations)"
    insight: "Created 6 comprehensive operation command docs (ci, deploy, changelog, packages, tests, compress) following template with quick start, parameters, examples, workflow, output, and related commands sections"
    created_files:
      - "apps/docs/content/docs/commands/ci.mdx (155 lines)"
      - "apps/docs/content/docs/commands/deploy.mdx (324 lines)"
      - "apps/docs/content/docs/commands/changelog.mdx (329 lines)"
      - "apps/docs/content/docs/commands/packages.mdx (377 lines)"
      - "apps/docs/content/docs/commands/tests.mdx (449 lines)"
      - "apps/docs/content/docs/commands/compress.mdx (375 lines)"
    total_lines: 2009
    source: "packages/cli/src/core/commands/*.md"
    notes: "All files follow consistent documentation template: frontmatter, quick start, purpose, parameters table, examples with explanations, workflow steps, output/files, and related commands"

  - date: 2026-01-09
    context: "Created IDE Integrations documentation for AgileFlow"
    insight: "IDE handler system supports 4 IDEs (Claude Code, Cursor, Windsurf, Codex CLI) through plugin architecture. Each IDE has custom config directory (.claude/, .cursor/, .windsurf/, .codex/) and different installation models. Claude Code most advanced (damage control, spawnable agents), Codex CLI unique (per-repo skills, user-level prompts, AGENTS.md instructions)"
    created_files:
      - "apps/docs/content/docs/features/ide-integrations.mdx (700+ lines)"
      - "apps/docs/content/docs/features/index.mdx (updated with IDE section)"
    total_lines: 700
    source: "packages/cli/tools/cli/installers/ide/ (_base-ide.js, claude-code.js, cursor.js, windsurf.js, codex.js, manager.js)"
    coverage:
      - "IDE overview table with config dirs, types, status"
      - "Quick start for Claude Code (default IDE)"
      - "Multi-IDE installation instructions"
      - "Detailed setup for each IDE with directory structure"
      - "Command access patterns by IDE"
      - "Claude Code subagent spawning, damage control hooks"
      - "Cursor unique features, differences from Claude Code"
      - "Windsurf workflow management, VSCode integration"
      - "Codex CLI dual installation model (per-repo skills, user-level prompts, AGENTS.md)"
      - "Dynamic IDE handler system, extensibility guide"
      - "Content injection system explanation"
      - "Troubleshooting guide for common issues"
      - "Best practices for IDE selection and multi-IDE usage"
      - "Configuration management and version control"
    notes: "Comprehensive 700+ line documentation covering all 4 IDEs with detailed setup, command access, and unique features. Includes handler architecture for IDE developers extending with new IDEs."
