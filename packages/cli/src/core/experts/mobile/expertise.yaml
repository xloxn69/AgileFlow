# Mobile Expert - Domain Knowledge
# This file is the agent's "mental model" of the mobile domain
# AUTO-UPDATED by self-improve.md after completing work

domain: mobile
last_updated: 2025-12-16
version: 1.0

files:
  react_native:
    - path: src/mobile/
      purpose: "React Native mobile app source"
      key_exports: []
      conventions: "Component files use PascalCase"
    - path: src/mobile/screens/
      purpose: "Screen components for navigation stacks"
      conventions: "One screen per file, named *Screen.tsx"
    - path: src/mobile/components/
      purpose: "Reusable mobile UI components"
      conventions: "Platform-agnostic when possible"
    - path: src/mobile/navigation/
      purpose: "React Navigation configuration"
      conventions: "Stack and tab navigators defined here"
    - path: src/mobile/hooks/
      purpose: "Custom hooks for mobile features"
      conventions: "use* prefix for hooks"
    - path: src/mobile/services/
      purpose: "Native module wrappers and platform services"
      conventions: "Abstraction layer over native APIs"

  flutter:
    - path: lib/
      purpose: "Flutter app source (if using Flutter)"
      conventions: "snake_case for file names"
    - path: lib/screens/
      purpose: "Screen widgets"
    - path: lib/widgets/
      purpose: "Reusable widget components"

  native_modules:
    - path: ios/
      purpose: "iOS native code and Xcode project"
      conventions: "Swift preferred over Objective-C"
    - path: android/
      purpose: "Android native code and Gradle project"
      conventions: "Kotlin preferred over Java"

  configuration:
    - path: app.json
      purpose: "Expo/React Native app configuration"
    - path: metro.config.js
      purpose: "Metro bundler configuration"
    - path: babel.config.js
      purpose: "Babel transpiler configuration"
    - path: pubspec.yaml
      purpose: "Flutter dependencies (if using Flutter)"

relationships:
  - parent: screens
    child: components
    type: uses
    notes: "Screens compose reusable components"
  - parent: screens
    child: navigation
    type: registered_in
    notes: "Screens registered in navigation stacks"
  - parent: services
    child: native_modules
    type: wraps
    notes: "Services abstract native module APIs"
  - parent: hooks
    child: services
    type: uses
    notes: "Hooks use services for platform features"

patterns:
  - name: Platform-Agnostic Components
    description: "Write components that work on both iOS and Android without platform checks"
    location: src/mobile/components/
    example: "Use Platform.select() only when necessary"

  - name: Navigation Stack Pattern
    description: "Use stack navigators for hierarchical screen flows"
    location: src/mobile/navigation/
    example: "createStackNavigator() for push/pop screens"

  - name: Native Module Abstraction
    description: "Wrap native modules in service layer for testability"
    location: src/mobile/services/
    example: "CameraService wraps react-native-camera"

  - name: Responsive Mobile Design
    description: "Handle different screen sizes and orientations"
    location: src/mobile/components/
    example: "Use Dimensions API or useWindowDimensions hook"

  - name: Gesture Handling
    description: "Use gesture responder system for touch interactions"
    location: src/mobile/components/
    example: "PanGestureHandler for swipe gestures"

conventions:
  - "Test on real iOS and Android devices, not just simulators"
  - "Use platform-agnostic code first, platform-specific only when necessary"
  - "Abstract native modules through service layer"
  - "Handle safe area insets (notch, home indicator)"
  - "Optimize bundle size (<2MB target)"
  - "Handle offline/slow network gracefully"
  - "Support both light and dark modes"
  - "Minimum touch target size: 44x44 points"
  - "Handle keyboard appearance and avoidance"

performance_targets:
  bundle_size: "<2MB compressed"
  startup_time: "<2s cold start"
  frame_rate: "60fps for animations"
  memory: "<200MB typical usage"
  battery: "Minimal background activity"

# Learnings are AUTO-UPDATED by self-improve.md
# Do not edit manually - let the agent learn from experience
learnings: []
