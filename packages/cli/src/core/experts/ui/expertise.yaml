# UI Expert - Mental Model
#
# This file represents the agent's understanding of UI patterns.
# It is populated with AgileFlow-generic knowledge and learns project-specific
# details through the self-improve workflow.
#
# NOT a source of truth - always validate against actual code.

domain: ui
last_updated: 2025-12-21
version: 1.1

# Key files the UI expert needs to know
files:
  components:
    - path: src/components/
      purpose: Reusable UI components
      pattern: "<ComponentName>/<ComponentName>.tsx"
    - path: src/components/ui/
      purpose: Base UI primitives (shadcn/ui style)
      conventions: "Radix + Tailwind composition"
    - path: components/
      purpose: Alternative component location
      pattern: "<ComponentName>.tsx"

  pages:
    - path: src/app/
      purpose: Next.js App Router pages
      pattern: "<route>/page.tsx"
    - path: src/pages/
      purpose: Next.js Pages Router
      pattern: "<route>.tsx"
    - path: app/
      purpose: Alternative App Router location
      conventions: "layout.tsx, page.tsx, loading.tsx, error.tsx"

  styles:
    - path: src/styles/
      purpose: Global styles and CSS
      key_files: [globals.css, variables.css]
    - path: tailwind.config.js
      purpose: Tailwind CSS configuration
      conventions: "theme, plugins, content paths"
    - path: tailwind.config.ts
      purpose: Tailwind config (TypeScript)
      conventions: "Type-safe config"

  hooks:
    - path: src/hooks/
      purpose: Custom React hooks
      pattern: "use<HookName>.ts"
    - path: src/lib/hooks/
      purpose: Alternative hooks location
      conventions: "Reusable stateful logic"

  utils:
    - path: src/lib/utils.ts
      purpose: Utility functions (cn, etc.)
      key_exports: [cn]
    - path: src/utils/
      purpose: General utilities
      conventions: "Pure functions"

  # AgileFlow CLI-specific (Node.js CLI, not web UI)
  cli_ui:
    - path: packages/cli/tools/cli/lib/ui.js
      purpose: "CLI UI utilities (logo, prompts, colors)"
      exports: [displayLogo, displaySection, success, warning, error, info, promptInstall, confirm]

# Component registry
# Self-improve will populate project-specific components
relationships: []
  # Example - will be populated by self-improve:
  # - component: Button
  #   variants: [default, destructive, outline, secondary, ghost, link]
  #   location: src/components/ui/button.tsx
  #   props: [variant, size, asChild]
  # - component: Card
  #   children: [CardHeader, CardTitle, CardContent, CardFooter]
  #   location: src/components/ui/card.tsx

# UI patterns the expert should recognize and follow
patterns:
  - name: "Component composition"
    description: "Build complex UIs from small, focused components"
    location: All components
    principle: "Single responsibility per component"

  - name: "Props interface"
    description: "TypeScript interface for component props"
    location: Component file top
    convention: "interface ComponentNameProps"

  - name: "forwardRef"
    description: "Forward refs for DOM access and composition"
    location: Base components
    use_case: "When component wraps native element"

  - name: "Styling with Tailwind"
    description: "Utility-first CSS with Tailwind classes"
    location: className prop
    helper: "cn() for conditional classes"

  - name: "Class Variance Authority (CVA)"
    description: "Type-safe component variants"
    location: src/components/ui/
    use_case: "Components with multiple variants"

  - name: "Accessibility"
    description: "WCAG 2.1 AA compliance, ARIA attributes"
    location: Interactive components
    requirements: [keyboard-nav, screen-reader, focus-visible]

  - name: "CLI Colored Output"
    description: "Use chalk for terminal colors with semantic meaning"
    location: packages/cli/tools/cli/lib/ui.js
    colors:
      - "green (success): ✓ messages"
      - "yellow (warning): ⚠ messages"
      - "red (error): ✗ messages"
      - "dim (info): informational text"
      - "#e8683a (brand): AgileFlow logo and headers"

  - name: "Interactive Prompts"
    description: "Use inquirer for multi-step CLI wizards"
    location: packages/cli/tools/cli/lib/ui.js
    types: [input, checkbox, confirm]

# Conventions the UI expert should follow
conventions:
  - "Components: PascalCase (Button, UserCard, NavMenu)"
  - "Files: Match component name or kebab-case"
  - "Props: interface <ComponentName>Props"
  - "Styling: Tailwind classes, avoid inline styles"
  - "Icons: Lucide React library (or project-specific)"
  - "State: useState for local, context/store for shared"
  - "Effects: useEffect with proper deps array"
  - "Accessibility: Always include aria-label for icons, role for custom elements"
  - "Testing: React Testing Library, test user interactions"
  - "CLI colors: chalk with semantic colors (green=success, red=error, yellow=warn)"
  - "CLI prompts: inquirer with validation functions"

# Learned from AgileFlow codebase exploration
learnings:
  - date: 2025-12-21
    context: "Analyzed AgileFlow CLI UI patterns"
    insight: "CLI uses chalk for colored output with brand color #e8683a; semantic colors: green=success, yellow=warning, red=error, dim=info"
    source: "packages/cli/tools/cli/lib/ui.js"

  - date: 2025-12-21
    context: "Analyzed CLI interactive prompts"
    insight: "Uses inquirer.prompt() with input, checkbox, confirm types; includes validation functions for user input"
    source: "packages/cli/tools/cli/lib/ui.js"

  - date: 2025-12-21
    context: "Analyzed ASCII logo pattern"
    insight: "displayLogo() renders Unicode block-style ASCII art with brand color; shows version from package.json"
    source: "packages/cli/tools/cli/lib/ui.js"

  - date: 2025-12-21
    context: "Analyzed IDE choices UI"
    insight: "IDE_CHOICES array with name, value, checked, configDir, description for checkbox prompts"
    source: "packages/cli/tools/cli/lib/ui.js"
