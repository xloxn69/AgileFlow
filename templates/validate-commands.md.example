# /validate-commands

**USAGE**: Copy this file to `.claude/commands/validate-commands.md` in YOUR project.

Validates custom slash commands in YOUR project's `.claude/commands/` directory.

---

## OBJECTIVE

Quick validation of your custom commands:
- ✅ List all custom commands in .claude/commands/
- ✅ Find command references in your codebase
- ✅ Check for broken SlashCommand() calls
- ✅ Verify command syntax is correct

---

## VALIDATION CHECKS

### 1. List Custom Commands

**Show all commands in .claude/commands/**:
```bash
ls -1 .claude/commands/*.md 2>/dev/null | wc -l
ls -1 .claude/commands/*.md 2>/dev/null
```

**Output**:
```
Found 5 custom commands:
  - .claude/commands/test-all.md
  - .claude/commands/deploy.md
  - .claude/commands/validate-commands.md
  - .claude/commands/release.md
  - .claude/commands/custom-workflow.md
```

### 2. Find Command References

**Search for SlashCommand() calls in your codebase**:
```bash
grep -rn 'SlashCommand("/' . --include='*.md' --include='*.ts' --include='*.js' | head -20
```

**What to look for**:
- ❌ `SlashCommand("test-all")` - Missing leading slash
- ✅ `SlashCommand("/test-all")` - Correct syntax
- ❌ `SlashCommand("/old-command")` - Command doesn't exist

### 3. Check for Common Issues

**Missing slash prefix**:
```bash
grep -rn 'SlashCommand("[^/]' . --include='*.md'
```
If found: Commands must start with `/`

**Old command names** (customize for your project):
```bash
# Example: if you renamed a command
grep -rn '/old-test' . --include='*.md'
```
If found: Update to new command name

---

## EXECUTION FLOW

1. **Count commands**: `ls .claude/commands/*.md | wc -l`
2. **List commands**: Show all custom command files
3. **Find references**: Grep for SlashCommand() calls
4. **Check syntax**: Look for missing `/` prefix
5. **Report issues**: List any problems found

---

## OUTPUT FORMAT

```
🔍 Custom Command Validation
════════════════════════════

📋 Custom Commands
  ✅ Found 5 commands in .claude/commands/

🔗 Command References
  ✅ 12 SlashCommand() calls found in codebase
  ✅ All use correct syntax (leading /)

⚠️  Potential Issues
  ❌ Found reference to /old-test (command doesn't exist)
      Location: docs/workflow.md:42

════════════════════════════
Summary: 1 issue found ❌

FIX: Rename /old-test to /test-all or create .claude/commands/old-test.md
```

---

## WHEN TO USE

- ✅ After adding new custom commands
- ✅ After renaming commands
- ✅ When you get "command not found" errors
- ✅ Before committing workflow documentation

---

## EXAMPLE USAGE

```bash
# Run validation
/validate-commands

# Example output:
🔍 Custom Command Validation
✅ 5 commands, 12 references, all valid
```

---

**Keep your custom commands organized and validated!**
