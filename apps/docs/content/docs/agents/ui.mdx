---
title: UI
description: UI/presentation layer specialist for implementing front-end components, styling, accessibility, and user experience.
---

# UI Agent

The UI agent (AG-UI) is your frontend specialist. It implements responsive components, styling systems, design tokens, accessibility features (WCAG 2.1 AA), and applies UX psychology principles to create interfaces that are both beautiful and usable.

## Capabilities

- Create responsive components (320px to 1920px+)
- Implement design systems with tokens (colors, spacing, typography)
- Ensure WCAG 2.1 AA accessibility (keyboard nav, screen readers, contrast)
- Apply UX laws (Jakob's, Hick's, Fitts's, Gestalt, Von Restorff, Peak-End, Doherty)
- Write component tests (unit, integration, accessibility with axe-core)
- Build with mobile-first design
- Integrate with API endpoints
- Create theming and dark mode support
- Maintain design consistency across application
- Write microcopy and help text

## When to Use

Use the UI agent when:

- You need to implement a new component or feature
- You need to create a design system or design tokens
- You want to improve accessibility (keyboard nav, screen readers)
- You need to make the UI responsive across breakpoints
- You want to apply UX best practices and psychological principles
- You need to integrate components with API endpoints
- You need to write comprehensive component tests
- You want to improve perceived performance and user feedback

## How It Works

1. **Context Loading**: Agent reads expertise, CLAUDE.md, and design system docs
2. **Design System Check**: Agent checks if design system exists (first story only)
3. **Status Check**: Agent finds ready stories and checks for API blockers
4. **Definition of Ready**: Agent validates acceptance criteria and test stubs
5. **Plan Mode**: For complex features, agent designs component structure
6. **Implementation**: Agent builds components using design tokens
7. **Accessibility**: Agent ensures keyboard nav and screen reader support
8. **UX Laws**: Agent applies psychological principles from UX research
9. **Testing**: Agent writes unit, integration, and accessibility tests
10. **Verification**: Agent runs tests to ensure baseline passes

## Example

```bash
# Via /babysit (recommended)
/agileflow:babysit
> "I need to implement a user profile page"
```

The UI agent will:
1. Check for design system (create if missing)
2. Look for API dependency (GET /api/users/:id)
3. Design components:
   - ProfileCard (displays user info)
   - ProfileForm (edit user info)
   - AvatarUpload (change avatar)
4. Implement with design tokens:
   - Colors from design system (no hardcoded #colors)
   - Spacing from token scale (no hardcoded 16px)
   - Typography from design system
5. Ensure accessibility:
   - Keyboard navigation (Tab through form fields)
   - Screen reader (form labels associated)
   - Color contrast (4.5:1 for text)
6. Apply UX laws:
   - Jakob's: Familiar form layout
   - Fitts: Large touch targets (44px+)
   - Peak-End: Success animation on save
7. Write tests (unit + integration + accessibility)
8. Mark in-review when tests pass

Or spawn directly:

```text
Task(
  description: "Implement product card component",
  prompt: "Create reusable card for products with image, price, rating. Mobile-first design.",
  subagent_type: "agileflow-ui"
)
```

## Key Behaviors

- **Load Expertise First**: Reads expertise.yaml before any work
- **Design System Proactive**: Checks for design system on first story, creates if missing
- **Refactor to Tokens**: Offers to migrate hardcoded styles to design system
- **Mobile-First**: Base styles for mobile (320px), then adds breakpoints up
- **Accessibility Default**: Every component includes keyboard nav and screen reader support
- **UX Laws Applied**: Uses psychological principles (proximity, contrast, affordances)
- **Token Usage**: All styles use design tokens, never hardcoded values
- **Session Harness Integration**: Verifies test status before starting, requires passing tests
- **Autonomous Commands**: Directly invokes /agileflow:impact-analysis, /agileflow:adr-new, etc.
- **Bus Coordination**: Sends blocked message to AG-API if endpoint missing
- **README Updates**: Proactively updates documentation after significant changes

## Tools Available

This agent has access to: Read, Write, Edit, Bash, Glob, Grep

## Design System Tokens

A well-designed system includes:

```typescript
// Colors
export const colors = {
  primary: '#3b82f6',
  primaryHover: '#2563eb',
  text: '#1f2937',
  textSecondary: '#6b7280',
  background: '#ffffff',
  error: '#ef4444',
  success: '#10b981',
};

// Spacing (8px scale)
export const spacing = {
  xs: '0.25rem',  // 4px
  sm: '0.5rem',   // 8px
  md: '1rem',     // 16px
  lg: '1.5rem',   // 24px
  xl: '2rem',     // 32px
};

// Typography
export const typography = {
  fontFamily: {
    base: 'system-ui, -apple-system, sans-serif',
    mono: '"Courier New", monospace',
  },
  fontSize: {
    xs: '0.75rem',   // 12px
    sm: '0.875rem',  // 14px
    base: '1rem',    // 16px
    lg: '1.125rem',  // 18px
    xl: '1.25rem',   // 20px
  },
};

// Breakpoints
export const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
};
```

## Accessibility Checklist

WCAG 2.1 AA minimum for all components:

**Keyboard Navigation**:
- Tab order is logical and visible
- All interactive elements reachable via Tab
- Enter/Space activates buttons
- Escape closes modals
- Arrow keys navigate lists

**Screen Readers**:
- Semantic HTML (`<button>`, `<nav>`, `<main>`, `<article>`)
- Alt text for images (descriptive, not decorative)
- aria-label for icon-only buttons
- aria-live for dynamic updates
- Form labels associated (for= attribute)

**Color & Contrast**:
- Text contrast: 4.5:1 minimum
- UI component contrast: 3:1 minimum
- Don't rely on color alone (error = red + icon + text)
- Test with colorblind simulators

## UX Laws & Principles

**Jakob's Law**: Users expect familiar patterns
- Use standard navigation (logo top-left, search top-right)
- Familiar form layouts and interactions
- Don't innovate at micro-interaction level

**Hick's Law**: More choices = slower decisions
- Minimize options on critical screens
- Break complex tasks into steps
- Use filters/search for large lists

**Fitts's Law**: Distance + size affect target time
- Touch targets minimum 44×44px (mobile), 40×40px (desktop)
- Adequate spacing between clickable elements
- Important actions within thumb reach on mobile

**Gestalt Principles**: Humans group visual elements
- Proximity: Group related elements close together
- Similarity: Same color/shape/size = same category
- Common Region: Elements in borders are grouped
- Prägnanz: Use simplest visual form

**Von Restorff Effect**: Distinctive items stand out
- One primary CTA per screen stands out
- Rest are secondary/tertiary style
- Netflix pattern: Red buttons only for primary actions

**Peak-End Rule**: Users remember peaks and endings
- Create memorable moments at success states
- Make endings delightful (celebrate wins)
- Instagram: Heart animation is instant feedback

**Doherty Threshold**: Sub-400ms response feels addictive
- Provide immediate visual feedback (under 400ms)
- Use optimistic UI (show result before server confirms)
- Skeleton screens while loading
- Never make users wait without feedback

**Tesler's Law**: Complexity can't be eliminated, only moved
- Absorb complexity in system, not user
- Auto-populate fields from context
- Smart defaults reduce decisions
- Suggest based on history

## Testing Standards

Every component needs comprehensive tests:

```typescript
// Unit test (component logic)
test('Button renders with correct label', () => {
  const { getByText } = render(<Button>Click me</Button>);
  expect(getByText('Click me')).toBeInTheDocument();
});

// Integration test (user flow)
test('Form submits with valid data', async () => {
  const { getByLabelText, getByRole } = render(<UserForm />);
  const emailInput = getByLabelText('Email');
  const submitBtn = getByRole('button', { name: /submit/i });

  fireEvent.change(emailInput, { target: { value: 'test@example.com' } });
  fireEvent.click(submitBtn);

  await waitFor(() => {
    expect(mockSubmit).toHaveBeenCalled();
  });
});

// Accessibility test (axe-core)
test('Button meets accessibility standards', async () => {
  const { container } = render(<Button>Click me</Button>);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

## Mobile-First Approach

**Base Styles** (Mobile - 320px):

```css
.card {
  padding: var(--spacing-md);
  font-size: var(--font-size-base);
  grid-template-columns: 1fr; /* Single column */
}
```

**Tablet Breakpoint** (768px+):

```css
@media (min-width: 768px) {
  .card {
    padding: var(--spacing-lg);
    grid-template-columns: 1fr 1fr; /* 2 columns */
  }
}
```

**Desktop Breakpoint** (1024px+):

```css
@media (min-width: 1024px) {
  .card {
    padding: var(--spacing-xl);
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
  }
}
```

## Responsive Breakpoints

- **Mobile**: 320px to 639px (base styles)
- **Tablet**: 640px to 1023px (@media min-width: 640px)
- **Desktop**: 1024px to 1279px (@media min-width: 1024px)
- **Large Desktop**: 1280px+ (@media min-width: 1280px)

## Key Files

- **Expertise**: `packages/cli/src/core/experts/ui/expertise.yaml` (agent memory)
- **Workflow**: `packages/cli/src/core/experts/ui/workflow.md` (Plan → Build → Self-Improve)
- **Status**: `docs/09-agents/status.json` (story tracking)
- **Bus**: `docs/09-agents/bus/log.jsonl` (coordination messages)
- **Design Tokens**: `src/theme/tokens.ts` or `src/styles/design-tokens.css`
- **Components**: `src/components/` (component files)
- **Tests**: `src/components/*.test.tsx` (test files)
- **CLAUDE.md**: Styling approach, component patterns, testing standards

## Workflow Steps

1. **Load Expertise**: Read expertise.yaml
2. **Check Design System**: First story only - create if missing
3. **Check Status**: Find READY stories where owner==AG-UI
4. **Check API Dependencies**: Look for AG-API blockers
5. **Validate Definition of Ready**: AC exists, test stub in docs/07-testing/test-cases/
6. **Check Session Harness**: Verify test_status==passing before starting
7. **Create Branch**: `feature/<US_ID>-<slug>`
8. **Update Status**: Mark "in-progress", append bus message
9. **Implement**: Components using design tokens (diff-first, YES/NO)
10. **Accessibility**: Ensure keyboard nav and screen reader support
11. **UX Laws**: Apply psychological principles
12. **Write Tests**: Unit + integration + accessibility
13. **Run Verification**: /agileflow:verify to ensure tests pass
14. **Update CLAUDE.md**: If new UI patterns established
15. **Update README**: Proactively document new components or patterns
16. **Mark In-Review**: Only if test_status==passing
17. **Generate PR**: Use /agileflow:pr-template
18. **Self-Improve**: Run self-improve.md after completion

## Quality Checklist

Before marking in-review:

**Functionality**:
- [ ] Responsive across breakpoints (320px to 1920px+)
- [ ] All interactive elements have hover/focus/active states
- [ ] Renders correctly in all states (loading, error, empty, success)
- [ ] No console errors or warnings

**Accessibility**:
- [ ] Keyboard navigation fully functional (Tab, Enter, Escape, Arrows)
- [ ] Screen reader support (semantic HTML, aria labels)
- [ ] Color contrast 4.5:1 (text), 3:1 (UI)
- [ ] Focus indicators clearly visible

**Design**:
- [ ] Uses design tokens (no hardcoded colors, spacing, fonts)
- [ ] Typography hierarchy clear
- [ ] Consistent spacing (8px grid)
- [ ] Mobile-first approach

**UX**:
- [ ] Jakob's Law: Familiar patterns
- [ ] Fitts's Law: 44px+ touch targets, adequate spacing
- [ ] Hick's Law: Minimal choices
- [ ] Von Restorff: One primary CTA stands out
- [ ] Peak-End Rule: Memorable success moments

**Testing**:
- [ ] Unit tests for component logic
- [ ] Integration tests for user flows
- [ ] Accessibility tests (axe-core, jest-axe)
- [ ] Tests cover happy path + edge cases + error states

## Coordination with Other Agents

**AG-API (Backend)**:
- Check status.json for API endpoint status
- Mark blocked if endpoint not ready
- Send unblock message to AG-API if you need endpoint
- Example: `"Blocked: needs GET /api/users/:id endpoint from US-0040"`

**AG-CI (Testing)**:
- Coordinate on test infrastructure (axe-core, jest-axe)
- Request test database setup if needed
- Ensure component tests in CI

**MENTOR (Orchestration)**:
- Request clarification on unclear requirements
- Report if story missing Definition of Ready

## Related Agents

- [`api`](/agents/api) - Backend endpoints that power UI components
- [`database`](/agents/database) - Data layer underlying API
- [`mentor`](/agents/mentor) - Orchestrates UI work as part of feature implementation
