---
title: /story
description: Create a user story with acceptance criteria
---

# /story

Create a new user story with acceptance criteria, test stubs, and status tracking.

## Quick Start

```bash
/agileflow:story EPIC=<EP-ID> STORY=<US-ID> TITLE=<text> OWNER=<id>
```

## Parameters

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `EPIC` | Yes | - | Parent epic ID (e.g., EP-0001) |
| `STORY` | Yes | - | Story identifier (e.g., US-0001) |
| `TITLE` | Yes | - | Story title describing the feature |
| `OWNER` | Yes | - | Owner name or agent ID (e.g., AG-UI, AG-API) |
| `ESTIMATE` | No | `0.5d` | Time estimate (e.g., `0.5d`, `1d`, `2d`) |
| `AC` | No | - | Acceptance criteria in Given/When/Then format |
| `DEPENDENCIES` | No | - | Comma-separated list of dependent story IDs (e.g., `US-0001,US-0002`) |

## Examples

### Basic Story Creation

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0001 TITLE="User registration form" OWNER=AG-UI
```

Creates a story file at `docs/06-stories/EP-0010/US-0001-user-registration-form.md` with default estimate (0.5d) and status (ready).

### Story with Acceptance Criteria

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0002 TITLE="Validate email address" OWNER=AG-API ESTIMATE=1d AC="Given a valid email, When form submitted, Then confirmation email sent"
```

Creates the story with specific acceptance criteria that guide development and testing.

### Story with Dependencies

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0003 TITLE="Password reset flow" OWNER=AG-API ESTIMATE=1d DEPENDENCIES=US-0001,US-0002
```

Creates the story and marks it as dependent on previous stories. These dependencies are visualized in `/deps` command.

## Output

The command creates:

1. **Story file** (`docs/06-stories/EP-XXXX/US-XXXX-<slug>.md`)
   - Story metadata (ID, epic, owner, estimate, status)
   - Description and acceptance criteria
   - Architecture context (populated during development)
   - Testing strategy

2. **Test stub** (`docs/07-testing/test-cases/US-XXXX.md`)
   - Test structure aligned with acceptance criteria
   - Placeholder for test implementation
   - Links to story for context

3. **Status tracking** (`docs/09-agents/status.json`)
   - Story entry with owner, estimate, and status
   - Dependency links to other stories
   - Epic assignment

4. **Agent communication** (`docs/09-agents/bus/log.jsonl`)
   - Assignment message showing story created and assigned

## Workflow

1. **Create the story** - Run `/story` with epic, ID, title, and owner
2. **Add acceptance criteria** - Use `/story-validate` to refine and test AC
3. **Validate completeness** - Run `/story-validate STORY=<US-ID>` before development
4. **Develop the story** - Owner implements according to acceptance criteria
5. **Run tests** - Use `/verify` to run automated tests
6. **Request review** - Update status to `in-review` when ready

## Acceptance Criteria Format

Use the Given/When/Then format for clear, testable criteria:

```markdown
- **Given** a user on the registration page
  **When** they enter valid email and password
  **Then** an account is created and confirmation email sent

- **Given** they submit an invalid email
  **When** they click submit
  **Then** form shows "Invalid email" error
```

Acceptance criteria should be:
- **Specific**: Reference actual fields and values
- **Testable**: Can be verified with automated or manual tests
- **Independent**: Each criterion tests one thing
- **Complete**: Cover happy path and major edge cases

## Story Estimates

Use these standard estimates:

| Estimate | When to Use |
|----------|------------|
| `0.5d` | Simple CRUD, basic UI component, quick fix |
| `1d` | Standard feature with validation and basic tests |
| `1.5d` | Complex logic, multiple validations, or integration |
| `2d` | Significant refactoring or major feature component |
| `>2d` | Break into smaller stories |

## Integration with Other Commands

- **After story creation**: Use `/story-validate` to ensure readiness
- **Before development**: Use `/babysit` for interactive implementation help
- **During development**: Use `/verify` to run tests
- **For code review**: Use `/review` for AI-powered suggestions
- **For pull requests**: Use `/pr` to auto-generate PR description

## Best Practices

- **One story = one feature** - Keep stories focused and independently deliverable
- **Write clear acceptance criteria** - These guide development and testing
- **Estimate realistically** - Consider complexity and team experience
- **Link dependencies explicitly** - Helps with sprint planning and risk assessment
- **Validate before development** - Use `/story-validate` to catch issues early

## Related Commands

- [`/epic`](/commands/epic) - Create the parent epic
- [`/story-validate`](/commands/story-validate) - Validate story completeness before development
- [`/sprint`](/commands/sprint) - Select stories for sprint planning
- [`/auto`](/commands/auto) - Auto-generate stories from PRDs or specs
- [`/babysit`](/commands/babysit) - Get interactive help during implementation
- [`/verify`](/commands/verify) - Run tests and update test status
