flowchart LR
    A[Start] --> B[Parse CLI arg]
    B --> C{Command name?}
    C -->|Yes| D[Update session-state.json]
    C -->|No| E[Skip registration]
    D --> F[Gather Git status]
    E --> F
    F --> G[Read status.json]
    G --> H[Read session-state.json]
    H --> I[Scan docs structure]
    I --> J[Read bus messages]
    J --> K[Check key files]
    K --> L[Output summary]
