/* AgileFlow Diagram Styles - Global Adaptive Light/Dark Mode */
/* This file is the SINGLE SOURCE OF TRUTH for all diagram styling */

/* ============================================
   LIGHT MODE (Default)
   ============================================ */

/* Set color property for currentColor inheritance */
#my-svg {
  color: #6b7280;
}

/* Flowchart Nodes */
#my-svg .node rect,
#my-svg .node circle,
#my-svg .node ellipse,
#my-svg .node polygon,
#my-svg .node path {
  fill: #e5e7eb !important;
  stroke: #6b7280 !important;
}

/* Flowchart Edges */
#my-svg .edgePath .path,
#my-svg .flowchart-link {
  stroke: #6b7280 !important;
}

/* Edge Labels */
#my-svg .edgeLabel {
  background-color: #e5e7eb !important;
}
#my-svg .edgeLabel rect {
  fill: #e5e7eb !important;
  opacity: 1 !important;
}
#my-svg .edgeLabel p,
#my-svg .labelBkg {
  background-color: #e5e7eb !important;
}

/* Clusters/Subgraphs */
#my-svg .cluster rect {
  fill: #f3f4f6 !important;
  stroke: #6b7280 !important;
}
#my-svg .cluster-label text,
#my-svg .cluster-label span {
  fill: #1f2937 !important;
  color: #1f2937 !important;
}

/* Arrows/Markers */
#my-svg .marker,
#my-svg .arrowheadPath,
#my-svg #arrowhead path,
#my-svg marker path {
  fill: #6b7280 !important;
  stroke: #6b7280 !important;
}

/* All Text */
#my-svg text,
#my-svg span,
#my-svg p,
#my-svg tspan,
#my-svg .label,
#my-svg .nodeLabel,
#my-svg .edgeLabel {
  fill: #1f2937 !important;
  color: #1f2937 !important;
}

/* Sequence Diagram - Actors */
#my-svg .actor,
#my-svg .actor-top,
#my-svg .actor-bottom,
#my-svg rect.actor {
  fill: #e5e7eb !important;
  stroke: #6b7280 !important;
}
#my-svg .actor-line,
#my-svg line.actor-line {
  stroke: #6b7280 !important;
}
#my-svg text.actor,
#my-svg text.actor > tspan,
#my-svg .actor-box {
  fill: #1f2937 !important;
}

/* Sequence Diagram - Actor Man (stick figure) */
#my-svg .actor-man line,
#my-svg .actor-man circle {
  stroke: #6b7280 !important;
  fill: #e5e7eb !important;
}

/* Sequence Diagram - Messages */
#my-svg .messageText {
  fill: #1f2937 !important;
}
#my-svg .messageLine0,
#my-svg .messageLine1 {
  stroke: #6b7280 !important;
}

/* Sequence Diagram - Notes (CRITICAL: override yellow) */
#my-svg .note,
#my-svg rect.note {
  fill: #e5e7eb !important;
  stroke: #6b7280 !important;
}
#my-svg .noteText,
#my-svg .noteText > tspan,
#my-svg text.noteText {
  fill: #1f2937 !important;
}

/* Sequence Diagram - Loops/Labels */
#my-svg .labelBox {
  fill: #e5e7eb !important;
  stroke: #6b7280 !important;
}
#my-svg .labelText,
#my-svg .loopText,
#my-svg .labelText > tspan,
#my-svg .loopText > tspan {
  fill: #1f2937 !important;
}
#my-svg .loopLine {
  stroke: #6b7280 !important;
}

/* Sequence Diagram - Activations */
#my-svg .activation0,
#my-svg .activation1,
#my-svg .activation2 {
  fill: #d1d5db !important;
  stroke: #6b7280 !important;
}

/* State Diagram */
#my-svg .statediagram-state rect,
#my-svg .statediagram-cluster rect {
  fill: #e5e7eb !important;
  stroke: #6b7280 !important;
}
#my-svg .state-start,
#my-svg .state-end,
#my-svg .statediagram-state circle {
  fill: #6b7280 !important;
}
#my-svg path.transition {
  stroke: #6b7280 !important;
}
#my-svg .statediagram-state .label text {
  fill: #1f2937 !important;
}

/* ============================================
   DARK MODE
   ============================================ */
@media (prefers-color-scheme: dark) {
  /* Set color property for currentColor inheritance */
  #my-svg {
    color: #9ca3af;
  }

  /* Flowchart Nodes */
  #my-svg .node rect,
  #my-svg .node circle,
  #my-svg .node ellipse,
  #my-svg .node polygon,
  #my-svg .node path {
    fill: #374151 !important;
    stroke: #9ca3af !important;
  }

  /* Flowchart Edges */
  #my-svg .edgePath .path,
  #my-svg .flowchart-link {
    stroke: #9ca3af !important;
  }

  /* Edge Labels */
  #my-svg .edgeLabel {
    background-color: #374151 !important;
  }
  #my-svg .edgeLabel rect {
    fill: #374151 !important;
  }
  #my-svg .edgeLabel p,
  #my-svg .labelBkg {
    background-color: #374151 !important;
  }

  /* Clusters/Subgraphs */
  #my-svg .cluster rect {
    fill: #1f2937 !important;
    stroke: #6b7280 !important;
  }
  #my-svg .cluster-label text,
  #my-svg .cluster-label span {
    fill: #e5e7eb !important;
    color: #e5e7eb !important;
  }

  /* Arrows/Markers */
  #my-svg .marker,
  #my-svg .arrowheadPath,
  #my-svg #arrowhead path,
  #my-svg marker path {
    fill: #9ca3af !important;
    stroke: #9ca3af !important;
  }

  /* All Text */
  #my-svg text,
  #my-svg span,
  #my-svg p,
  #my-svg tspan,
  #my-svg .label,
  #my-svg .nodeLabel,
  #my-svg .edgeLabel {
    fill: #e5e7eb !important;
    color: #e5e7eb !important;
  }

  /* Sequence Diagram - Actors */
  #my-svg .actor,
  #my-svg .actor-top,
  #my-svg .actor-bottom,
  #my-svg rect.actor {
    fill: #374151 !important;
    stroke: #9ca3af !important;
  }
  #my-svg .actor-line,
  #my-svg line.actor-line {
    stroke: #9ca3af !important;
  }
  #my-svg text.actor,
  #my-svg text.actor > tspan,
  #my-svg .actor-box {
    fill: #e5e7eb !important;
  }

  /* Sequence Diagram - Actor Man (stick figure) */
  #my-svg .actor-man line,
  #my-svg .actor-man circle {
    stroke: #9ca3af !important;
    fill: #374151 !important;
  }

  /* Sequence Diagram - Messages */
  #my-svg .messageText {
    fill: #e5e7eb !important;
  }
  #my-svg .messageLine0,
  #my-svg .messageLine1 {
    stroke: #9ca3af !important;
  }

  /* Sequence Diagram - Notes (CRITICAL: override yellow) */
  #my-svg .note,
  #my-svg rect.note {
    fill: #374151 !important;
    stroke: #9ca3af !important;
  }
  #my-svg .noteText,
  #my-svg .noteText > tspan,
  #my-svg text.noteText {
    fill: #e5e7eb !important;
  }

  /* Sequence Diagram - Loops/Labels */
  #my-svg .labelBox {
    fill: #374151 !important;
    stroke: #9ca3af !important;
  }
  #my-svg .labelText,
  #my-svg .loopText,
  #my-svg .labelText > tspan,
  #my-svg .loopText > tspan {
    fill: #e5e7eb !important;
  }
  #my-svg .loopLine {
    stroke: #9ca3af !important;
  }

  /* Sequence Diagram - Activations */
  #my-svg .activation0,
  #my-svg .activation1,
  #my-svg .activation2 {
    fill: #4b5563 !important;
    stroke: #9ca3af !important;
  }

  /* State Diagram */
  #my-svg .statediagram-state rect,
  #my-svg .statediagram-cluster rect {
    fill: #374151 !important;
    stroke: #9ca3af !important;
  }
  #my-svg .state-start,
  #my-svg .state-end,
  #my-svg .statediagram-state circle {
    fill: #9ca3af !important;
  }
  #my-svg path.transition {
    stroke: #9ca3af !important;
  }
  #my-svg .statediagram-state .label text {
    fill: #e5e7eb !important;
  }
}
